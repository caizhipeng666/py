# 字典

内容|description
---|---
[合并映射](#合并映射)|ChainMap
[只读字典](#只读字典)|MappingProxyType
[弱引用字典](#弱引用字典)|weakref.WeakValueDictionary()

---

### 合并映射
```python
from collections import ChainMap

a = {"x":1, "z":3}
b = {"y":2, "z":4}

ChainMap(a, b)

>>> ChainMap({'x': 1, 'z': 3}, {'y': 2, 'z': 4})
```

### 只读字典
```python
from types import MappingProxyType

data = {'a' : 'b'}
test = MappingProxyType(data)
test["b"] = 1

>>> TypeError: 'mappingproxy' object does not support item assignment
```

### 弱引用字典
```python
import weakref
stock = weakref.WeakValueDictionary()

class Cheese:

    def __init__(self, kind):
        self.kind = kind
    
    def __repr__(self):
        return 'Cheese(%r)' % self.kind


catalog = [Cheese('Red Leicester'), Cheese('Tilsit'), Cheese('Brie'), Cheese('Parmesan')]

for cheese in catalog:
    stock[cheese.kind] = cheese

del catalog
sorted(stock.keys())

>>> ['Parmesan']
"""for 循环中的变量 cheese 是全局变量，除非显式删除，否则不会消失"""

del cheese
sorted(stock.keys())

>>> []
```
